# АНАЛИЗ ДАННЫХ И ИСКУССТВЕННЫЙ ИНТЕЛЛЕКТ [in GameDev]
Отчет по лабораторной работе #2 выполнил(а):
- Мальцев Богдан Андреевич
- ФО-220005
Отметка о выполнении заданий (заполняется студентом):

| Задание | Выполнение | Баллы |
| ------ | ------ | ------ |
| Задание 1 | * | 60 |
| Задание 2 | * | 20 |
| Задание 3 | * | 20 |

знак "*" - задание выполнено; знак "#" - задание не выполнено;

Работу проверили:
- к.т.н., доцент Денисов Д.В.
- к.э.н., доцент Панов М.А.
- ст. преп., Фадеев В.О.

[![N|Solid](https://cldup.com/dTxpPi9lDf.thumb.png)](https://nodesource.com/products/nsolid)

[![Build Status](https://travis-ci.org/joemccann/dillinger.svg?branch=master)](https://travis-ci.org/joemccann/dillinger)

Структура отчета

- Данные о работе: название работы, фио, группа, выполненные задания.
- Цель работы.
- Задание 1.
- Код реализации выполнения задания. Визуализация результатов выполнения (если применимо).
- Задание 2.
- Код реализации выполнения задания. Визуализация результатов выполнения (если применимо).
- Задание 3.
- Код реализации выполнения задания. Визуализация результатов выполнения (если применимо).
- Выводы.
- ✨Magic ✨

## Цель работы
научиться передавать в Unity данные из Google Sheets с помощью Python.

Ход работы:

## Задание 1
### Выберите одну из компьютерных игр, приведите скриншот её геймплея и краткое описание концепта игры. Выберите одну из игровых переменных в игре (ресурсы, внутри игровая валюта, здоровье персонажей и т.д.), опишите её роль в игре, условия изменения / появления и диапазон допустимых значений. Постройте схему экономической модели в игре и укажите место выбранного ресурса в ней.


Я выбрал GhostRunner, динамичный экшен, скриншоты которого приведены ниже:

![Alt text](https://sun9-77.userapi.com/impg/3ehovGMush342xzyGFmS_aWjiHdrvKV44Dlczw/w6lGLh4xu7E.jpg?size=1920x1080&quality=96&sign=80e4513ad82d5a41b3321f951d7efc6f&type=album "GamePlay")
![Alt text](https://sun3-24.userapi.com/impg/ryTjeLgacA5bqh93ip5D60r-WLZHZ8ZAT82aUA/DOg-XcmnjMI.jpg?size=1920x1080&quality=96&sign=3bc142631d3bd43eecd86c35d85bc11a&type=album "GamePlay")

Описание: Мы играем за "идеальное сочетание плоти и кода",искусственно выращенного киборга, созданного из одной единственной клектки-"Бегущая тень-74" (БТ-74). В мире случился катаклизм, который сделал планету не пригодной для жизни, единственным спасением для людей стала высокотехнологичная "Башня Дархмы", спроектированная и построенная неким "Архитектором" но место жительства
не решило такие проблемы человечества, как конфликты, разногласия, и войны. "Архитектор", который правил Дархмой, свергнут, наши братья убиты, новая правительница, называющая себя "Хозяйка ключей" ведёт диктаторскую политику и готовит план аугментации 80% человечекого тела, чтобы выкинуть их во внешний мир и провести новую колонизацию планеты.
Всё, что у нас осталось - меч и цифровая копия "Архитектора" в нашей программной оболчке. Пришло время свергнуть Хозяку ключей и восстановить мир в башне Дархмы! 


В качестве рассматриваемого ресурса была выбрана концентрация БТ-74. Концентрация нам необходима, чтобы использовать специальные умения бегущих теней (Скачок, Шквал, Всплеск, Повилитель).
Концентрация принимает значения от 0 до 100. Чтобы использовать любую способность необходим полный банк концентрации, использование любой способности снижает концентрацию до нуля.
Концентранцию можно получать пассивно (Зависит от количества свободных ячеек улучшения, каждая свободная ячейка даёт +0.25 концентрации в секунду) или убивая противников. Каждое убийство даёт 20 очков концентрации.

Экономическая модель у всего этого следующая:
![Alt text](https://sun9-77.userapi.com/impg/zDT-zsYXrxXTxFOg6k4BsXH2kiJK5SkxR3TGAw/fBIz9jrWwlw.jpg?size=2560x1440&quality=96&sign=7d5fff4c8246e719914f7d16c72e3417&type=album "Economic Model")
## Задание 2
### С помощью скрипта на языке Python заполните google-таблицу данными, описывающими выбранную игровую переменную в выбранной игре (в качестве таких переменных может выступать игровая валюта, ресурсы, здоровье и т.д.). Средствами google-sheets визуализируйте данные в google-таблице (постройте график, диаграмму и пр.) для наглядного представления выбранной игровой величины.

Скрипт:

```py
import time

import gspread
import numpy as np

gc = gspread.service_account(filename='peveraheper-7866f5527595.json')
sh = gc.open("Concetrate Visualization")
concentration = 0.0
passive_reward = 1.5


def clamp(value, low_border, hight_border):
    if value < low_border: value = low_border
    if value > hight_border: value = hight_border
    return value


def fill_sheet(middle_string):
    sh.sheet1.update(('A' + str(i)), str(i))
    sh.sheet1.update(('B' + str(i)), middle_string)
    sh.sheet1.update(('C' + str(i)), str(concentration).replace('.', ','))


for i in range(1, 30):
    is_enemy = np.random.sample()
    if is_enemy > 0.3:
        use_ability = np.random.sample()
        if use_ability > 0.6 and concentration == 100:
            concentration = 0
            fill_sheet("Использована способность!")
        else:
            concentration = clamp(concentration + 20, 0, 100)
            fill_sheet("Противник убит!")
    else:
        concentration = clamp(concentration + passive_reward, 0, 100)
        fill_sheet("Двигаемся без помех")
    time.sleep(5)
```

Визуализация всех данных представлена в гугл-таблице: https://docs.google.com/spreadsheets/d/1gWcpdZQXdMc8etUriEU_vpkVY-ea49WoV9i_c2ofugA/edit#gid=0

## Задание 3
### Настройте на сцене Unity воспроизведение звуковых файлов, описывающих динамику изменения выбранной переменной. Например, если выбрано здоровье главного персонажа вы можете выводить сообщения, связанные с его состоянием.

Введём условие, что если наша концентрация максимальна, то всё хорошо, если упала до нуля (Мы на ком-то использовали способность), то мы самый жестокий тиран, в противном случае всё нормально, тогда мы метод Update изменим следущим образом:
```cs
    void Update()
    {
        if (dataSet.Count == 0) return;
        if (dataSet["Mon_" + i.ToString()] == 100 & statusStart == false & i != dataSet.Count)
        {
            StartCoroutine(PlaySelectAudioGood());
            Debug.Log(dataSet["Mon_" + i.ToString()]);
        }

        if (dataSet["Mon_" + i.ToString()] != 0 & dataSet["Mon_" + i.ToString()] != 100 & dataSet["Mon_" + i.ToString()] > 2 & statusStart == false & i != dataSet.Count)
        {
            StartCoroutine(PlaySelectAudioNormal());
            Debug.Log(dataSet["Mon_" + i.ToString()]);
        }

        if (dataSet["Mon_" + i.ToString()] == 0 & statusStart == false & i != dataSet.Count)
        {
            StartCoroutine(PlaySelectAudioBad());
            Debug.Log(dataSet["Mon_" + i.ToString()]);
        }
    }
```

Подробнее с результатом выполнения данного задания вы можете ознакомиться скачав данный репозиторий

## Выводы

В ходе лабораторной работы я заполнил гугл таблицы с помощью Python через подключение к ним через API, после чего создал интерактивное взаимодействие с заполненной таблицей в Unity

Цели лабораторной работы были достигнуты.
## Powered by

**BigDigital Team: Denisov | Fadeev | Panov**
